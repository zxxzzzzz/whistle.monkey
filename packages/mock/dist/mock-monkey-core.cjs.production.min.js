"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("ramda")),r=e(require("lodash")),n=e(require("dayjs")),u=e(require("faker")),o=e(require("dayjs/plugin/isBetween")),s=e(require("validator"));function c(e=""){if("string"!=typeof e)return!1;const[t,n,u]=e.split("-");return!(Number.isNaN(r.toNumber(t))||Number.isNaN(r.toNumber(n))||Number.isNaN(r.toNumber(u))||r.toNumber(n)>12||r.toNumber(n)<1||r.toNumber(u)>31||r.toNumber(u)<1)}n.extend(o);const i=new Map;function a(e,t){i.set(e,t)}function f(){const e=[...i.entries()].reduce((e,t)=>(e[t[0]]=t[1],e),{});return{R:t,_:r,dayjs:n,faker:u,v:s,...e}}a("random",r.random),a("fake",e=>u.fake(e[0])),a("test",e=>{throw Error("测试 报错"+e)}),a("between",(...e)=>{const[t,r]=e;return c(t)&&c(r)?e=>n(e).isBetween(t,r):"number"==typeof t&&"number"==typeof r?e=>e>t&&e<=r:()=>!1});const l=new Map;function b(e,t){l.set(e,t)}function y(e={}){Object.keys(e).forEach(t=>l.set(t,e[t]))}function d(e={}){Object.keys(e).forEach(e=>l.delete(e))}function m(){return[...l.keys()].reduce((e,t)=>({...e,[t]:l.get(t)}),{})}function p(e,r){return function({scope:e,reserveFunctions:r,statement:n}){const u={...e,...r};try{return Function(...Object.keys(u),"return "+n)(...t.values(u))}catch(e){return n}}({scope:r||m(),reserveFunctions:f(),statement:e})}function N(e=""){return e.replace(/<([\s\S]*)>/g,"")}function g(e){return e.map(e=>Array.isArray(e)?g(e):e.constructor===Object?j(e):p(e))}function j(e){return Object.keys(e).reduce((r,n)=>{const u=function({key:e,value:r}){const n=function(e=""){if(/[a-zA-Z0-9]+[<][\s\S]*[>]/.test(e)){const t=p(e.slice(e.indexOf("<")+1,-1));if(!1===t)return{length:0,exist:!1!==t};const r=parseInt(t,10);return Number.isNaN(r)?{length:0,exist:!0}:{length:r,exist:!0}}return{length:0,exist:!0}}(e),u=N(e);if(n.exist){if(0===n.length){if(null==r)return r;if(r.constructor===Object)return j(r);if(Array.isArray(r))return g(r);const e=p(r);return b(u,e),e}return t.range(0,n.length).map(e=>{if(b("index",e),null==r)return r;if(r.constructor===Object)return j(r);if(Array.isArray(r))return g(r);const t=p(r);return b(u,t),t})}}({key:n,value:e[n]}),o=N(n);return void 0===u||(r[o]=r[o]?[...[].concat(r[o],...[].concat(u))]:u),r},{})}exports.addFunction=a,exports.generate=function(e,t={}){if(e){y(t);const r=j(e);return d(t),r}},exports.getValueByStatement=p;
//# sourceMappingURL=mock-monkey-core.cjs.production.min.js.map
