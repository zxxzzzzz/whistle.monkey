"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("ramda")),r=e(require("lodash")),n=e(require("dayjs")),u=e(require("faker")),o=e(require("dayjs/plugin/isBetween"));function s(e=""){if("string"!=typeof e)return!1;const[t,n,u]=e.split("-");return!(Number.isNaN(r.toNumber(t))||Number.isNaN(r.toNumber(n))||Number.isNaN(r.toNumber(u))||r.toNumber(n)>12||r.toNumber(n)<1||r.toNumber(u)>31||r.toNumber(u)<1)}n.extend(o);const c=new Map;function i(e,t){c.set(e,t)}function a(){const e=[...c.entries()].reduce((e,t)=>(e[t[0]]=t[1],e),{});return{R:t,_:r,dayjs:n,faker:u,...e}}i("random",r.random),i("fake",e=>u.fake(e[0])),i("test",e=>{throw Error("测试 报错"+e)}),i("between",(...e)=>{const[t,r]=e;return s(t)&&s(r)?e=>n(e).isBetween(t,r):"number"==typeof t&&"number"==typeof r?e=>e>t&&e<=r:()=>!1});const f=new Map;function l(e,t){f.set(e,t)}function b(e={}){Object.keys(e).forEach(t=>f.set(t,e[t]))}function y(e={}){Object.keys(e).forEach(e=>f.delete(e))}function d(){return[...f.keys()].reduce((e,t)=>({...e,[t]:f.get(t)}),{})}function m(e,r){return function({scope:e,reserveFunctions:r,statement:n}){const u={...e,...r};try{return Function(...Object.keys(u),"return "+n)(...t.values(u))}catch(e){return n}}({scope:r||d(),reserveFunctions:a(),statement:e})}function p(e=""){return e.replace(/<([\s\S]*)>/g,"")}function N(e){return e.map(e=>Array.isArray(e)?N(e):e.constructor===Object?g(e):m(e))}function g(e){return Object.keys(e).reduce((r,n)=>{const u=function({key:e,value:r}){const n=function(e=""){if(/[a-zA-Z0-9]+[<][\s\S]*[>]/.test(e)){const t=m(e.slice(e.indexOf("<")+1,-1));if(!1===t)return{length:0,exist:!1!==t};const r=parseInt(t,10);return Number.isNaN(r)?{length:0,exist:!0}:{length:r,exist:!0}}return{length:0,exist:!0}}(e),u=p(e);if(n.exist){if(0===n.length){if(null==r)return r;if(r.constructor===Object)return g(r);if(Array.isArray(r))return N(r);const e=m(r);return l(u,e),e}return t.range(0,n.length).map(e=>{if(l("index",e),null==r)return r;if(r.constructor===Object)return g(r);if(Array.isArray(r))return N(r);const t=m(r);return l(u,t),t})}}({key:n,value:e[n]}),o=p(n);return void 0===u||(r[o]=r[o]?[...[].concat(r[o],...[].concat(u))]:u),r},{})}exports.addFunction=i,exports.generate=function(e,t={}){if(e){b(t);const r=g(e);return y(t),r}},exports.getValueByStatement=m;
//# sourceMappingURL=mock-monkey-core.cjs.production.min.js.map
