"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("ramda")),r=e(require("lodash")),n=e(require("dayjs")),u=e(require("faker")),o=e(require("dayjs/plugin/isBetween"));function s(e=""){if("string"!=typeof e)return!1;const[t,n,u]=e.split("-");return!(Number.isNaN(r.toNumber(t))||Number.isNaN(r.toNumber(n))||Number.isNaN(r.toNumber(u))||r.toNumber(n)>12||r.toNumber(n)<1||r.toNumber(u)>31||r.toNumber(u)<1)}n.extend(o);const c=new Map;function i(e,t){c.set(e,t)}i("random",r.random),i("fake",e=>u.fake(e[0])),i("bt10",()=>()=>!0),i("between",(...e)=>{const[t,r]=e;return s(t)&&s(r)?e=>n(e).isBetween(t,r):"number"==typeof t&&"number"==typeof r?e=>e>t&&e<=r:()=>!1});const a=new Map;function f(e,t){a.set(e,t)}function l(e={}){Object.keys(e).forEach(t=>a.set(t,e[t]))}function b(e={}){Object.keys(e).forEach(e=>a.delete(e))}function y(){return[...a.keys()].reduce((e,t)=>({...e,[t]:a.get(t)}),{})}function m(e,o){return function({scope:e,reserveFunctions:r,statement:n}){const u={...e,...r};try{return Function(...Object.keys(u),"return "+n)(...t.values(u))}catch(e){return n}}({scope:o||y(),reserveFunctions:{R:t,_:r,dayjs:n,faker:u,...c.values()},statement:e})}function d(e=""){return e.replace(/<([\s\S]*)>/g,"")}function p(e){return e.map(e=>Array.isArray(e)?p(e):e.constructor===Object?N(e):m(e))}function N(e){return Object.keys(e).reduce((r,n)=>{const u=function({key:e,value:r}){const n=function(e=""){if(/[a-zA-Z0-9]+[<][\s\S]*[>]/.test(e)){const t=m(e.slice(e.indexOf("<")+1,-1));if(!1===t)return{length:0,exist:!1!==t};const r=parseInt(t,10);return Number.isNaN(r)?{length:0,exist:!0}:{length:r,exist:!0}}return{length:0,exist:!0}}(e),u=d(e);if(n.exist){if(0===n.length){if(null==r)return r;if(r.constructor===Object)return N(r);if(Array.isArray(r))return p(r);const e=m(r);return f(u,e),e}return t.range(0,n.length).map(e=>{if(f("index",e),null==r)return r;if(r.constructor===Object)return N(r);if(Array.isArray(r))return p(r);const t=m(r);return f(u,t),t})}}({key:n,value:e[n]}),o=d(n);return void 0===u||(r[o]=r[o]?[...[].concat(r[o],...[].concat(u))]:u),r},{})}exports.addFunction=i,exports.generate=function(e,t={}){if(e){l(t);const r=N(e);return b(t),r}},exports.getValueByStatement=m;
//# sourceMappingURL=mock-monkey-core.cjs.production.min.js.map
