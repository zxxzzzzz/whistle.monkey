import{d as e,c as a,r as t,o,a as n,b as s,e as r,C as c,P as l,R as i,f as u,g as d,w as p,I as h,B as g,L as m,h as f,t as y,F as v,i as b,T as w,_ as k,j as C,k as _,l as L,m as R,n as S,p as j,A as P}from"./vendor.6b210a01.js";var T=e({name:"App"});async function x(e){return async function(e,a){const t=new Request(e,{headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(a),method:"post"});try{return(await fetch(t)).json()}catch(o){return}}("/cgi-bin/root",{path:e})}async function A(){return async function(e,a){a&&(e=`${e}?${new URLSearchParams(a).toString()}`);const t=new Request(e,{method:"get"});try{return(await fetch(t)).json()}catch(o){return}}("/cgi-bin/root")}T.render=function(e,n,s,r,c,l){const i=t("router-view");return o(),a(i)};const D=new WebSocket("ws://localhost:9999/ws/log");var E=e({name:"App",setup(){const e=n("");A().then((a=>{e.value=a.path}));const a=s([]);return D.addEventListener("message",(e=>{const t=JSON.parse(e.data);t.tagsComponents=(t.tags||[]).map((e=>function(e){return"命中"===e?{color:"green",tag:e,icon:c}:"添加"===e?{color:"cyan",icon:l,tag:e}:"更新"===e?{color:"blue",icon:i,tag:e}:"函数"===e?{color:"#2db7f5",icon:u,tag:e}:"启用"===e?{color:"cyan",icon:l,tag:e}:"禁用"===e?{color:"#e6aafb",icon:l,tag:e}:{color:"",tag:e}}(e))),a.push(t)})),{root:e,items:a}},methods:{handleClick(){this.root?x(this.root):r.error("请输入地址")},getReadableDate:e=>new Date(e).toLocaleString()}});const H={class:"flex flex-col h-full pt-4"},M={class:"flex"},$=f("确定"),q={class:"overflow-auto mt-4"};(E.__cssModules={}).$style={},E.render=function(e,t,n,s,r,c){const l=h,i=g,u=w,R=k,S=C,j=m;return o(),a("div",H,[d("div",M,[d(l,{"addon-before":"mock文件地址",value:e.root,"onUpdate:value":t[1]||(t[1]=a=>e.root=a),placeholder:"请输入地址",onPressEnter:e.handleClick},null,8,["value","onPressEnter"]),d(i,{onClick:e.handleClick},{default:p((()=>[$])),_:1},8,["onClick"])]),d("div",q,[d(j,{size:"small",bordered:"","data-source":e.items},{renderItem:p((({item:t})=>[d(S,null,{default:p((()=>[d(R,null,{description:p((()=>[d(u,{color:"pink"},{default:p((()=>[f(y(e.getReadableDate(t.date)),1)])),_:2},1024),(o(!0),a(v,null,b(t.tagsComponents,(e=>(o(),a(u,{color:e.color,key:e.tag},{default:p((()=>[f(y(e.tag),1),e.icon?(o(),a(_(e.icon),{key:0,class:"align-middle"})):L("",!0)])),_:2},1032,["color"])))),128)),d("span",{innerHTML:t.message},null,8,["innerHTML"])])),_:2},1024)])),_:2},1024)])),_:1},8,["data-source"])])])};var I=R({routes:[{path:"/",redirect:"/home"},{path:"/home",component:E}],history:S()});const J=j(T);J.use(I),J.use(P),J.mount("#app");
