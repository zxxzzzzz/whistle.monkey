import{d as e,c as t,r as a,o,a as n,b as s,e as r,C as c,P as l,R as i,f as u,w as d,I as p,B as h,L as m,g as f,t as g,F as v,h as y,T as w,_ as b,i as k,j as C,k as _,l as L,m as R,n as S,A as j}from"./vendor.a00bd6ac.js";var P=e({name:"App"});async function T(e){return async function(e,t){const a=new Request(e,{headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t),method:"post"});try{return(await fetch(a)).json()}catch(o){return}}("/cgi-bin/root",{path:e})}async function x(){return async function(e,t){t&&(e=`${e}?${new URLSearchParams(t).toString()}`);const a=new Request(e,{method:"get"});try{return(await fetch(a)).json()}catch(o){return}}("/cgi-bin/root")}P.render=function(e,n,s,r,c,l){const i=a("router-view");return o(),t(i)};const A=new WebSocket("ws://localhost:9999/ws/log");var D=e({name:"App",setup(){const e=n("");x().then((t=>{e.value=t.path}));const t=s([]);return A.addEventListener("message",(e=>{const a=JSON.parse(e.data);a.tagsComponents=(a.tags||[]).map((e=>function(e){return"命中"===e?{color:"green",tag:e,icon:c}:"添加"===e?{color:"cyan",icon:l,tag:e}:"更新"===e?{color:"blue",icon:i,tag:e}:{color:""}}(e))),t.push(a)})),{root:e,items:t}},methods:{handleClick(){this.root?T(this.root):r.error("请输入地址")},getReadableDate:e=>new Date(e).toLocaleString()}});const E={class:"flex flex-col h-full pt-4"},H={class:"flex"},M=f("确定"),$={class:"overflow-auto mt-4"};(D.__cssModules={}).$style={},D.render=function(e,a,n,s,r,c){const l=p,i=h,L=w,R=b,S=k,j=m;return o(),t("div",E,[u("div",H,[u(l,{"addon-before":"mock文件地址",value:e.root,"onUpdate:value":a[1]||(a[1]=t=>e.root=t),placeholder:"请输入地址",onPressEnter:e.handleClick},null,8,["value","onPressEnter"]),u(i,{onClick:e.handleClick},{default:d((()=>[M])),_:1},8,["onClick"])]),u("div",$,[u(j,{size:"small",bordered:"","data-source":e.items},{renderItem:d((({item:a})=>[u(S,null,{default:d((()=>[u(R,null,{description:d((()=>[u(L,{color:"pink"},{default:d((()=>[f(g(e.getReadableDate(a.date)),1)])),_:2},1024),(o(!0),t(v,null,y(a.tagsComponents,(e=>(o(),t(L,{color:e.color,key:e.tag},{default:d((()=>[f(g(e.tag),1),e.icon?(o(),t(C(e.icon),{key:0,class:"align-middle"})):_("",!0)])),_:2},1032,["color"])))),128)),u("span",{innerHTML:a.message},null,8,["innerHTML"])])),_:2},1024)])),_:2},1024)])),_:1},8,["data-source"])])])};var q=L({routes:[{path:"/",redirect:"/home"},{path:"/home",component:D}],history:R()});const I=S(P);I.use(q),I.use(j),I.mount("#app");
